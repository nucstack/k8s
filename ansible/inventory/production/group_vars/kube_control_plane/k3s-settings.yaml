---
k3s_control_node: true
# k3s settings for all control-plane nodes
k3s_server:
  datastore-endpoint: "{{ lookup('env', 'K8S_DATASTORE_ENDPOINT') }}"
  node-ip: "{{ ansible_host }}"
  tls-san:
  - "{{ lookup('env', 'K8S_HA_SAN') }}"
  - "{{ lookup('env', 'K8S_HA_VIP') }}"
  docker: false
  disable:
  - traefik
  - servicelb
  - metrics-server
  - local-storage
  disable-network-policy: true
  disable-cloud-controller: true
  write-kubeconfig-mode: "644"
  # CIDR for pod IPs
  cluster-cidr: "10.233.64.0/18"
  # CIDR for service IPs
  service-cidr: "10.233.0.0/18"