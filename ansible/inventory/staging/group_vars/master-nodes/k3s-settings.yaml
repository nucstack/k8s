---
k3s_control_node: true

# k3s settings for all control-plane nodes
k3s_server:
  node-ip: "{{ ansible_host }}"
  # tls-san:
  # - "k8s.example.com"
  # - "192.168.8.100"
  docker: false
  disable:
  - traefik
  - servicelb
  - metrics-server
  - local-storage
  disable-network-policy: true
  disable-cloud-controller: true
  write-kubeconfig-mode: "644"
  # CIDR for pod IPs
  cluster-cidr: "10.233.64.0/18"
  # CIDR for service IPs
  service-cidr: "10.233.0.0/18"
  kubelet-arg:
  - "feature-gates=GracefulNodeShutdown=true"
