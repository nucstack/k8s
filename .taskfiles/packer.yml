---
version: '3'

tasks:
  fmt:
    desc: Packer validate
    dir: "{{.PACKER_DIR}}"
    cmds:      
      - packer fmt .
  validate:
    desc: Packer validate
    deps: [fmt]
    dir: "{{.PACKER_DIR}}"
    cmds:      
      - packer validate .
  build:
    desc: Packer validate
    deps: [validate]
    dir: "{{.PACKER_DIR}}"
    cmds:      
      - packer build .