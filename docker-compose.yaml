---
version: "3.4"
services:
  devcontainer:
    image: k8s-devcontainer:latest
    network_mode: host
    build:
      context: .devcontainer
    working_dir: /home/vscode/workspace
    command: "/bin/sh -c \"while sleep 1000; do :; done\""
    user: rootless
    volumes:
      - ".:/home/rootless/workspace"
      - "~/.gnupg:/home/rootless/.gnupg"
      - "/etc/timezone:/etc/timezone:ro"
      - "/etc/localtime:/etc/localtime:ro"
      - "~/.ssh:/home/rootless/.ssh:z"
      - "~/.gitconfig:/home/rootless/.gitconfig:z"
