---
apiVersion: cert-manager.io/v1alpha2
kind: Certificate
metadata:
  name: mosquitto-tls-cert
  namespace: home-automation
spec:
  secretName: mosquitto-tls-cert
  issuerRef:
    name: letsencrypt-staging
    kind: ClusterIssuer
  # keySize: 2048
  # keyAlgorithm: rsa
  # keyEncoding: pkcs1
  # usages:
  #   - digital signature
  #   - key encipherment
  #   - server auth
  commonName: "mqtt.${SECRET_DOMAIN}"
  dnsNames:
    - "mqtt.${SECRET_DOMAIN}"
